<!DOCTYPE html>
<html>
<title>slide show</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css.css">
<body>
 
	  <img id="bottom" src="img/P5182654.JPG" >
	  <img id="top" src="img/P5182659.JPG" >
 	<div class="caption">1020-03-11</div>
<script>
//http://css3.bradshawenterprises.com/cfimg/

var step=100;
var img_max_index; // = imgs.length-1; //-1 makes compatible with array
var imgs = get_images();
var img_index = 0;

var tp = document.getElementById("top");
interval = 5000;

swap_images();
setInterval(swap_images, interval);

function carousel() {
	if ( step != 0 ){
		op = step/100;
		tp.style.opacity=op;
		step=step-5;
		setTimeout(carousel, 50);
	}else{
		tp.style.opacity=0;
		step=100;
	}
}

function get_images() {
	arr= ["P5182654.JPG", "P5182659.JPG", "P5182660.JPG", "P5182666.JPG"];
	arr.push( arr[0]);  //add the tail to end
	img_max_index=arr.length-1;   //-1 makes compatible with array
	return arr;
}

function swap_images(){
	 //swaps bottom to top and load bottom with the next
	 //call caroousel , which will do the fade by itself in a second
	 
	var bm = document.getElementById("bottom");
	
	
	if ( img_index == img_max_index){ 
		next_index = 0; 
	}else{
		next_index = img_index+1;
	}
	
	//new image is under, at bottom. then the top fade out
	bm.src = "img/" + imgs[next_index];
	tp.src = "img/" + imgs[img_index];
	
	//console.log(  next_index  );
	
	img_index++;
	
	if ( img_index == img_max_index ){
		get_images();
		img_index = 0;
	}
	
	carousel();
	//setTimeout(carousel, 1500);
}

</script>

</body>
</html>

