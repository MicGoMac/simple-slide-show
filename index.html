<!DOCTYPE html>
<html>
<title>slide show</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="css.css">
<body>
 
	  <img class="bottom" src="img/P5182654.JPG" >
	  <img id="top" src="img/P5182659.JPG" >
 	<div class="caption">1020-03-11</div>
<script>
//http://css3.bradshawenterprises.com/cfimg/

var step=100;

var imgs = get_images();
var img_index = 0;
var img_max_index = imgs.length-1;
var tp = document.getElementById("top");
interval = 5000;

setInterval(swap_images, interval);
//swap_images();
//carousel();

function carousel() {
	if ( step != 0 ){
		op = step/100;
		tp.style.opacity=op;
		step=step-5;
		setTimeout(carousel, 50);
	}else{
		tp.style.opacity=0;
		step=100;
	}
}

function get_images() {
	return ["P5182654.JPG", "P5182659.JPG", "P5182660.JPG", "P5182666.JPG"];
}

function swap_images(){
	 //var tp = document.getElementsByClassName("top");
	 var bm = document.getElementsByClassName("bottom");
	
	next_index = img_index+1;
	if ( next_index > img_max_index){ next_index = 0 }
	
	//new image is under, at bottom. then the top fade out
	document.getElementsByClassName("bottom")[0].src = "img/" + imgs[next_index];
	tp.src = "img/" + imgs[img_index];
	
	
	tp.opacity = 1;
	
	
	console.log(  img_index+1  );
	
	console.log( "b>>" + document.getElementsByClassName("bottom")[0].src );
	//console.log( "t     >>" + tp );
	console.log(tp);
	
	img_index++;
	if ( img_index == img_max_index ){
		get_images();
		img_index = 0;
	}
	
	carousel();
	//setTimeout(carousel, 1500);
}

</script>

</body>
</html>

